Setting up for development(based on Humanitarianresponse Platform 7.x-1.8)
--------------------------------------------------------------------------

- Download and install Humantarianresponse platform, using the 'Emergency Site'
  installation profile.
    - The relevant components can be found at: [Humanitarian Response Features](http://features.humanitarianresponse.info/)
    - The distribution can be found at [here](http://features.humanitarianresponse.info/distribution/humanitarianresponse_platform)

    Example commands:

    ```
    shell> drush si emergency_site --db-url=mysql://root:root@localhost/humanitarian_response --site-name="Humanitarian Response" --account-pass=admin -y
    shell> drush si emergency_site --db-url=mysql://internews:XvMnw2#a@127.0.0.1/in_dev_wiredcraft_com --site-name="Humanitarian Response" --account-pass=admin -y
    ```

- Download and enable Message Library related modules

    shell> cd sites/all/modules/
    shell> git clone git@github.com:Wiredcraft/message_library.git message_library
    shell> cd message_library

    shell> cd DRUPALROOT
    shell> drush make --no-core sites/all/modules/message_library/message_library_migrate/message_library_migrate.make -y
    shell> drush make --no-core sites/all/modules/message_library/message_library.make -y

- Download or enable other helping modules

    shell> drush dl devel --dev -y
    shell> drush en diff,devel_generate -y

- Enable relevant modules and features

    shell> drush en message_library -y; drush fr message_library -y; drush cc all

- Prepare the taxonomies and content
    - Setting up the migration databse

      You need to the have a copy of the database of infoasaid.org set, and
      add the connection info like the following:

      ```
       $databases['ml_migration']['default'] = array(
         'driver' => 'mysql',
         'database' => 'infoasaidorg',
         'username' => 'root',
         'password' => 'root',
         'host' => 'localhost',
         'prefix' => '',
       );
       ```

    - Prepare the following terms:
      * [At Risk Groups] (used by CT: messasge, field_message_group_risk)
      * [Target Audience] (used by CT: messasge, field_message_audience)
      * [Information Type] (used by CT: messasge, field_message_info_type)
      * [Hazard] (used by vocabulary: threat, field_threat_hazard)
      * [Issues] (used by vocabulary: threat, field_threat_category)
      * [Sector] (used by vocabulary: threat, field_threat_sector)

      These terms can be prepopulated:
        - using migrate
        - using the drush command `prepopulate-ml-terms`

    - Import the *message* content, using `Migrate` module

      NOTE: The messages are prepopulated using `Migrate`(but it's difficult to
      have field_message_threat migrated because the threat is changed from a CT
      to a vocabulary.)

      shell> drush en message_library_migrate -y
      shell> drush cc all
      shell> drush mi TermAtRiskGroups,TermHazard,TermInformationType,TermIssues,TermSector,TermTargetAudience
      shell> drush mi NodeMessageMigration

    - Import the threat terms, using a custom drush command:

      shell > drush prepopulate-ml-threat-terms

    - Fix the field_threat_message on the CT *message*

      shell> drush prepopulate-ml-message-threat


- Make sure solr is configured and working propertly

- Make essential configuration at: `admin/config/search/search_api`
